<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Guide · CRRao.jl</title><meta name="title" content="Guide · CRRao.jl"/><meta property="og:title" content="Guide · CRRao.jl"/><meta property="twitter:title" content="Guide · CRRao.jl"/><meta name="description" content="Documentation for CRRao.jl."/><meta property="og:description" content="Documentation for CRRao.jl."/><meta property="twitter:description" content="Documentation for CRRao.jl."/><meta property="og:url" content="https://xKDR.github.io/CRRao.jl/man/guide/"/><meta property="twitter:url" content="https://xKDR.github.io/CRRao.jl/man/guide/"/><link rel="canonical" href="https://xKDR.github.io/CRRao.jl/man/guide/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">CRRao.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li class="is-active"><a class="tocitem" href>Guide</a><ul class="internal"><li><a class="tocitem" href="#Installation"><span>Installation</span></a></li><li><a class="tocitem" href="#Tutorial:-Frequentist-Linear-Regression"><span>Tutorial: Frequentist Linear Regression</span></a></li><li><a class="tocitem" href="#Tutorial:-Bayesian-Logistic-Regression"><span>Tutorial: Bayesian Logistic Regression</span></a></li></ul></li></ul></li><li><span class="tocitem">API Reference</span><ul><li><a class="tocitem" href="../../api/interface/">General Interface</a></li><li><a class="tocitem" href="../../api/frequentist_regression/">Frequentist Regression Models</a></li><li><a class="tocitem" href="../../api/bayesian_regression/">Bayesian Regression Models</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Guide</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Guide</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/xKDR/CRRao.jl/blob/main/docs/src/man/guide.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Package-Guide"><a class="docs-heading-anchor" href="#Package-Guide">Package Guide</a><a id="Package-Guide-1"></a><a class="docs-heading-anchor-permalink" href="#Package-Guide" title="Permalink"></a></h1><h2 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h2><p>To install the package, type <code>]</code> in the Julia REPL to enter the <code>Pkg</code> mode and run</p><pre><code class="nohighlight hljs">julia&gt; using Pkg
julia&gt; Pkg.add(&quot;https://github.com/xKDR/CRRao.jl&quot;)</code></pre><h2 id="Tutorial:-Frequentist-Linear-Regression"><a class="docs-heading-anchor" href="#Tutorial:-Frequentist-Linear-Regression">Tutorial: Frequentist Linear Regression</a><a id="Tutorial:-Frequentist-Linear-Regression-1"></a><a class="docs-heading-anchor-permalink" href="#Tutorial:-Frequentist-Linear-Regression" title="Permalink"></a></h2><p>The goal of the CRRao package is to try to unify calling variety of statistical models under the same API. Note that this is different from what something like <a href="https://github.com/JuliaStats/StatsAPI.jl"><code>StatsAPI.jl</code></a> is doing; instead of introducing namespaces for development of packages, CRRao tries to <em>call</em> those packages with a uniform API. A very similar package comes from the R world: the <a href="https://zeligproject.org/">Zelig Project</a>.</p><p>To see how this API works, we will go over an example in which we&#39;ll train a linear regression model with the usual ordinary least squares method (which falls under the category of the frequentist viewpoint of statistics). For our example, we will be working with the <code>mtcars</code> dataset.</p><p>We first import the required packages.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using CRRao, RDatasets, StatsPlots, Plots, StatsModels</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>Then we import the dataset.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; mtcars = dataset(&quot;datasets&quot;, &quot;mtcars&quot;)</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr1">32×12 DataFrame</span>
<span class="sgr1"> Row </span>│<span class="sgr1"> Model              MPG      Cyl    Disp     HP     DRat     WT       QS</span> ⋯
     │<span class="sgr90"> String31           Float64  Int64  Float64  Int64  Float64  Float64  Fl</span> ⋯
─────┼──────────────────────────────────────────────────────────────────────────
   1 │ Mazda RX4             21.0      6    160.0    110     3.9     2.62      ⋯
   2 │ Mazda RX4 Wag         21.0      6    160.0    110     3.9     2.875
   3 │ Datsun 710            22.8      4    108.0     93     3.85    2.32
   4 │ Hornet 4 Drive        21.4      6    258.0    110     3.08    3.215
   5 │ Hornet Sportabout     18.7      8    360.0    175     3.15    3.44      ⋯
   6 │ Valiant               18.1      6    225.0    105     2.76    3.46
   7 │ Duster 360            14.3      8    360.0    245     3.21    3.57
   8 │ Merc 240D             24.4      4    146.7     62     3.69    3.19
  ⋮  │         ⋮             ⋮       ⋮       ⋮       ⋮       ⋮        ⋮        ⋱
  26 │ Fiat X1-9             27.3      4     79.0     66     4.08    1.935     ⋯
  27 │ Porsche 914-2         26.0      4    120.3     91     4.43    2.14
  28 │ Lotus Europa          30.4      4     95.1    113     3.77    1.513
  29 │ Ford Pantera L        15.8      8    351.0    264     4.22    3.17
  30 │ Ferrari Dino          19.7      6    145.0    175     3.62    2.77      ⋯
  31 │ Maserati Bora         15.0      8    301.0    335     3.54    3.57
  32 │ Volvo 142E            21.4      4    121.0    109     4.11    2.78
<span class="sgr36">                                                   5 columns and 17 rows omitted</span></code></pre><p>This dataset has 11 columns (barring the index). We want to train a linear regression model to predict <code>MPG</code> of a car from the information contained in the attributes <code>HP</code>, <code>WT</code> and <code>Gear</code>. We can represent this as a formula term of type <a href="https://juliastats.org/StatsModels.jl/stable/api/#StatsModels.@formula"><code>StatsModels.formula</code></a>. The formula term will look like</p><pre><code class="language-julia hljs">MPG ~ HP + WT + Gear</code></pre><p>More information about such terms can be found in the corresponding <a href="https://juliastats.org/StatsModels.jl/stable/api/#StatsModels.@formula">docs</a>. </p><p>Next, we train a linear regression model.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model = fit(@formula(MPG ~ HP + WT + Gear), mtcars, LinearRegression())</code><code class="nohighlight hljs ansi" style="display:block;">Model Class: Linear Regression
Likelihood Mode: Gauss
Link Function: Identity
Computing Method: Optimization
────────────────────────────────────────────────────────────────────────────
                  Coef.  Std. Error      t  Pr(&gt;|t|)   Lower 95%   Upper 95%
────────────────────────────────────────────────────────────────────────────
(Intercept)  32.0137     4.63226      6.91    &lt;1e-06  22.5249     41.5024
HP           -0.0367861  0.00989146  -3.72    0.0009  -0.0570478  -0.0165243
WT           -3.19781    0.846546    -3.78    0.0008  -4.93188    -1.46374
Gear          1.01998    0.851408     1.20    0.2410  -0.72405     2.76401
────────────────────────────────────────────────────────────────────────────</code></pre><p>As we can see from the output, a table of coefficients has been printed for us. We can now infer other details of the model from the various getter functions that apply to frequentist models. So one can do the following.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; coeftable(model)</code><code class="nohighlight hljs ansi" style="display:block;">────────────────────────────────────────────────────────────────────────────
                  Coef.  Std. Error      t  Pr(&gt;|t|)   Lower 95%   Upper 95%
────────────────────────────────────────────────────────────────────────────
(Intercept)  32.0137     4.63226      6.91    &lt;1e-06  22.5249     41.5024
HP           -0.0367861  0.00989146  -3.72    0.0009  -0.0570478  -0.0165243
WT           -3.19781    0.846546    -3.78    0.0008  -4.93188    -1.46374
Gear          1.01998    0.851408     1.20    0.2410  -0.72405     2.76401
────────────────────────────────────────────────────────────────────────────</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; sigma(model)</code><code class="nohighlight hljs ansi" style="display:block;">2.5741691724978972</code></pre><p>We can also get the predicted response of the model, along with other measures like the vector of Cook&#39;s distances using the <a href="../../api/frequentist_regression/#StatsAPI.predict-Tuple{FrequentistRegression}"><code>predict</code></a> and <a href="../../api/frequentist_regression/#StatsAPI.cooksdistance-Tuple{FrequentistRegression}"><code>cooksdistance</code></a> functions exported by CRRao. Here&#39;s a plot of the vector of Cook&#39;s distances.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; plot(cooksdistance(model))</code><code class="nohighlight hljs ansi" style="display:block;">Plot{Plots.GRBackend() n=1}</code></pre><p>To understand more about these functions and in general how frequentist models work in CRRao along with a complete set of getter functions that can be used, please visit the section of the API reference on <a href="../../api/frequentist_regression/#Frequentist-Regression-Models">Frequentist Regression Models</a>.</p><h2 id="Tutorial:-Bayesian-Logistic-Regression"><a class="docs-heading-anchor" href="#Tutorial:-Bayesian-Logistic-Regression">Tutorial: Bayesian Logistic Regression</a><a id="Tutorial:-Bayesian-Logistic-Regression-1"></a><a class="docs-heading-anchor-permalink" href="#Tutorial:-Bayesian-Logistic-Regression" title="Permalink"></a></h2><p>Next, let&#39;s see an example of doing bayesian statistical inference with CRRao. In this example, we will perform bayesian logistic regression on the <code>turnout</code> dataset from R&#39;s <a href="https://zeligproject.org/">Zelig</a>. Further, we will use the <a href="../../api/interface/#CRRao.Logit"><code>Logit</code></a> link function with a Ridge prior (<a href="../../api/interface/#CRRao.Prior_Ridge"><code>Prior_Ridge</code></a>).</p><p>With this example, we&#39;ll also showcase how to use random number generators to get reproducible results. For this, we will use the <a href="https://github.com/JuliaRandom/StableRNGs.jl">StableRNGs</a> package (although any random number generator can be used). So, first we import the required modules.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using CRRao, RDatasets, StableRNGs, StatsModels</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>Then, we use a <code>StableRNG</code> with random seed 123 as our random number generator.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; CRRao.set_rng(StableRNG(123))</code><code class="nohighlight hljs ansi" style="display:block;">StableRNGs.LehmerRNG(state=0x000000000000000000000000000000f7)</code></pre><p>(Check the documentation of the <a href="../../api/interface/#CRRao.set_rng"><code>CRRao.set_rng</code></a> method for more details). Next, let us load our dataset.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; turnout = dataset(&quot;Zelig&quot;, &quot;turnout&quot;)</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr1">2000×5 DataFrame</span>
<span class="sgr1">  Row </span>│<span class="sgr1"> Race   Age    Educate  Income   Vote  </span>
      │<span class="sgr90"> Cat…   Int32  Float64  Float64  Int32 </span>
──────┼───────────────────────────────────────
    1 │ white     60     14.0   3.3458      1
    2 │ white     51     10.0   1.8561      0
    3 │ white     24     12.0   0.6304      0
    4 │ white     38      8.0   3.4183      1
    5 │ white     25     12.0   2.7852      1
    6 │ white     67     12.0   2.3866      1
    7 │ white     40     12.0   4.2857      0
    8 │ white     56     10.0   9.3205      1
  ⋮   │   ⋮      ⋮       ⋮        ⋮       ⋮
 1994 │ white     58     12.0   0.1936      0
 1995 │ white     22      7.0   0.2364      0
 1996 │ white     26     16.0   3.3834      0
 1997 │ white     34     12.0   2.917       1
 1998 │ white     51     16.0   7.8949      1
 1999 │ white     22     10.0   2.4811      0
 2000 │ white     59     10.0   0.5523      0
<span class="sgr36">                             1985 rows omitted</span></code></pre><p>And finally, we do the inference using our proposed model.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model = fit(@formula(Vote ~ Age + Race + Income + Educate), turnout, LogisticRegression(), Logit(), Prior_Ridge())</code><code class="nohighlight hljs ansi" style="display:block;">Formula: Vote ~ 1 + Age + Race + Income + Educate
Link: Logit(CRRao.Logit_Link)
Chain: Chains MCMC chain (1000×18×1 Array{Float64, 3}):

Iterations        = 501:1:1500
Number of chains  = 1
Samples per chain = 1000
Wall duration     = 63.68 seconds
Compute duration  = 63.68 seconds
parameters        = λ, β[1], β[2], β[3], β[4], β[5]
internals         = lp, n_steps, is_accept, acceptance_rate, log_density, hamiltonian_energy, hamiltonian_energy_error, max_hamiltonian_energy_error, tree_depth, numerical_error, step_size, nom_step_size

Summary Statistics
 <span class="sgr1"> parameters </span> <span class="sgr1">    mean </span> <span class="sgr1">     std </span> <span class="sgr1">    mcse </span> <span class="sgr1"> ess_bulk </span> <span class="sgr1"> ess_tail </span> <span class="sgr1">    rhat </span> <span class="sgr1"> e</span> ⋯
 <span class="sgr90">     Symbol </span> <span class="sgr90"> Float64 </span> <span class="sgr90"> Float64 </span> <span class="sgr90"> Float64 </span> <span class="sgr90">  Float64 </span> <span class="sgr90">  Float64 </span> <span class="sgr90"> Float64 </span> <span class="sgr90">  </span> ⋯

           λ    1.5023    0.6390    0.0275   642.1138   577.3064    0.9991     ⋯
        β[1]   -2.8445    0.3306    0.0147   509.5635   586.9190    1.0000     ⋯
        β[2]    0.0269    0.0035    0.0001   716.8825   699.6500    1.0005     ⋯
        β[3]    0.2277    0.1483    0.0058   665.4130   536.1637    1.0006     ⋯
        β[4]    0.1773    0.0258    0.0010   725.4058   590.8078    1.0002     ⋯
        β[5]    0.1667    0.0213    0.0009   555.2670   580.5220    1.0060     ⋯
<span class="sgr36">                                                                1 column omitted</span>

Quantiles
 <span class="sgr1"> parameters </span> <span class="sgr1">    2.5% </span> <span class="sgr1">   25.0% </span> <span class="sgr1">   50.0% </span> <span class="sgr1">   75.0% </span> <span class="sgr1">   97.5% </span>
 <span class="sgr90">     Symbol </span> <span class="sgr90"> Float64 </span> <span class="sgr90"> Float64 </span> <span class="sgr90"> Float64 </span> <span class="sgr90"> Float64 </span> <span class="sgr90"> Float64 </span>

           λ    0.7489    1.0781    1.3564    1.7368    3.3274
        β[1]   -3.5030   -3.0601   -2.8332   -2.6283   -2.2052
        β[2]    0.0202    0.0246    0.0268    0.0292    0.0336
        β[3]   -0.0505    0.1277    0.2255    0.3224    0.5127
        β[4]    0.1259    0.1614    0.1766    0.1941    0.2246
        β[5]    0.1251    0.1512    0.1680    0.1806    0.2077</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../">« Home</a><a class="docs-footer-nextpage" href="../../api/interface/">General Interface »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Sunday 3 November 2024 21:44">Sunday 3 November 2024</span>. Using Julia version 1.11.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
